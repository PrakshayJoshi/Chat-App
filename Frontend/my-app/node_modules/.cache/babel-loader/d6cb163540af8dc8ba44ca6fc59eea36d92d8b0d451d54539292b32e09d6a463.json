{"ast":null,"code":"var _jsxFileName = \"/Users/prakshayjoshi/Documents/Projects/Chat-App/Frontend/my-app/src/components/SignUpPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SignUpPage = () => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const handleSignup = async () => {\n    try {\n      console.log('Attempting signup...');\n      const location = await getCurrentLocation();\n      console.log('Location obtained:', location);\n      const response = await fetch('http://localhost:9000/api/users/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username,\n          email,\n          password,\n          location\n        }) // Include location in the request body\n      });\n      const data = await response.json();\n      console.log('Signup response:', data);\n      if (data.success) {\n        console.log('Signup successful. Redirecting...');\n        navigate('/'); // Redirect to homepage\n      } else {\n        console.log('Signup failed.');\n        alert('Signup failed');\n      }\n    } catch (error) {\n      console.error('Error during signup:', error);\n      alert('An error occurred during signup: ' + error.message);\n    }\n  };\n  const getCurrentLocation = async () => {\n    try {\n      return new Promise((resolve, reject) => {\n        if (navigator.geolocation) {\n          navigator.geolocation.getCurrentPosition(position => {\n            resolve({\n              type: 'Point',\n              coordinates: [position.coords.longitude, position.coords.latitude]\n            });\n          }, error => reject(error));\n        } else {\n          reject(new Error('Geolocation is not supported by this browser.'));\n        }\n      });\n    } catch (error) {\n      console.error('Error in getCurrentLocation:', error);\n      throw error; // Rethrow the error to propagate it upwards\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: username,\n      onChange: e => setUsername(e.target.value),\n      placeholder: \"Username\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"email\",\n      value: email,\n      onChange: e => setEmail(e.target.value),\n      placeholder: \"Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      value: password,\n      onChange: e => setPassword(e.target.value),\n      placeholder: \"Password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSignup,\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(SignUpPage, \"PU1Mz0gLMnotqKMbK4zy49QWYAg=\", false, function () {\n  return [useNavigate];\n});\n_c = SignUpPage;\nexport default SignUpPage;\nvar _c;\n$RefreshReg$(_c, \"SignUpPage\");","map":{"version":3,"names":["React","useState","useNavigate","jsxDEV","_jsxDEV","SignUpPage","_s","username","setUsername","email","setEmail","password","setPassword","navigate","handleSignup","console","log","location","getCurrentLocation","response","fetch","method","headers","body","JSON","stringify","data","json","success","alert","error","message","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","position","type","coordinates","coords","longitude","latitude","Error","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","onClick","_c","$RefreshReg$"],"sources":["/Users/prakshayjoshi/Documents/Projects/Chat-App/Frontend/my-app/src/components/SignUpPage.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst SignUpPage = () => {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const handleSignup = async () => {\n    try {\n      console.log('Attempting signup...');\n      const location = await getCurrentLocation();\n      console.log('Location obtained:', location);\n      \n      const response = await fetch('http://localhost:9000/api/users/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ username, email, password, location }), // Include location in the request body\n      });\n  \n      const data = await response.json();\n      console.log('Signup response:', data);\n  \n      if (data.success) {\n        console.log('Signup successful. Redirecting...');\n        navigate('/'); // Redirect to homepage\n      } else {\n        console.log('Signup failed.');\n        alert('Signup failed');\n      }\n    } catch (error) {\n      console.error('Error during signup:', error);\n      alert('An error occurred during signup: ' + error.message);\n    }\n  };\n  \n\n  const getCurrentLocation = async () => {\n    try {\n      return new Promise((resolve, reject) => {\n        if (navigator.geolocation) {\n          navigator.geolocation.getCurrentPosition(\n            (position) => {\n              resolve({\n                type: 'Point',\n                coordinates: [position.coords.longitude, position.coords.latitude],\n              });\n            },\n            (error) => reject(error)\n          );\n        } else {\n          reject(new Error('Geolocation is not supported by this browser.'));\n        }\n      });\n    } catch (error) {\n      console.error('Error in getCurrentLocation:', error);\n      throw error; // Rethrow the error to propagate it upwards\n    }\n  };\n  \n  return (\n    <div>\n      <h2>Signup</h2>\n      <input type=\"text\" value={username} onChange={(e) => setUsername(e.target.value)} placeholder=\"Username\" />\n      <input type=\"email\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Email\" />\n      <input type=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} placeholder=\"Password\" />\n      <button onClick={handleSignup}>Signup</button>\n    </div>\n  );\n};\n\nexport default SignUpPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}