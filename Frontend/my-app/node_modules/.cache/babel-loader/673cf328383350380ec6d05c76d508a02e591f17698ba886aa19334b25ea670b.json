{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nconst LocationUpdater = ({\n  userId\n}) => {\n  _s();\n  useEffect(() => {\n    const updateLocation = async () => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(async position => {\n          const location = {\n            type: 'Point',\n            coordinates: [position.coords.longitude, position.coords.latitude]\n          };\n          try {\n            const response = await fetch('http://localhost:9000/api/users/update-location', {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json'\n              },\n              body: JSON.stringify({\n                userId,\n                location\n              })\n            });\n            if (response.ok) {\n              console.log('Updated Location');\n            } else {\n              console.error('Failed to update location');\n            }\n          } catch (error) {\n            console.error('Error updating location:', error);\n          }\n        });\n      }\n    };\n    const intervalId = setInterval(updateLocation, 60000); // Update every 60 seconds\n\n    return () => clearInterval(intervalId);\n  }, [userId]);\n  return null;\n};\n_s(LocationUpdater, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = LocationUpdater;\nexport default LocationUpdater;\nvar _c;\n$RefreshReg$(_c, \"LocationUpdater\");","map":{"version":3,"names":["React","useEffect","LocationUpdater","userId","_s","updateLocation","navigator","geolocation","getCurrentPosition","position","location","type","coordinates","coords","longitude","latitude","response","fetch","method","headers","body","JSON","stringify","ok","console","log","error","intervalId","setInterval","clearInterval","_c","$RefreshReg$"],"sources":["/Users/prakshayjoshi/Documents/Projects/Chat-App/Frontend/my-app/src/components/LocationUpdater.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\n\nconst LocationUpdater = ({ userId }) => {\n  useEffect(() => {\n    const updateLocation = async () => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(async (position) => {\n          const location = {\n            type: 'Point',\n            coordinates: [position.coords.longitude, position.coords.latitude],\n          };\n\n          try {\n            const response = await fetch('http://localhost:9000/api/users/update-location', {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({ userId, location }),\n            });\n\n            if (response.ok) {\n              console.log('Updated Location');\n            } else {\n              console.error('Failed to update location');\n            }\n          } catch (error) {\n            console.error('Error updating location:', error);\n          }\n        });\n      }\n    };\n\n    const intervalId = setInterval(updateLocation, 60000); // Update every 60 seconds\n\n    return () => clearInterval(intervalId);\n  }, [userId]);\n\n  return null;\n};\n\nexport default LocationUpdater;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAExC,MAAMC,eAAe,GAAGA,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAAC,EAAA;EACtCH,SAAS,CAAC,MAAM;IACd,MAAMI,cAAc,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAIC,SAAS,CAACC,WAAW,EAAE;QACzBD,SAAS,CAACC,WAAW,CAACC,kBAAkB,CAAC,MAAOC,QAAQ,IAAK;UAC3D,MAAMC,QAAQ,GAAG;YACfC,IAAI,EAAE,OAAO;YACbC,WAAW,EAAE,CAACH,QAAQ,CAACI,MAAM,CAACC,SAAS,EAAEL,QAAQ,CAACI,MAAM,CAACE,QAAQ;UACnE,CAAC;UAED,IAAI;YACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iDAAiD,EAAE;cAC9EC,MAAM,EAAE,KAAK;cACbC,OAAO,EAAE;gBACP,cAAc,EAAE;cAClB,CAAC;cACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;gBAAEnB,MAAM;gBAAEO;cAAS,CAAC;YAC3C,CAAC,CAAC;YAEF,IAAIM,QAAQ,CAACO,EAAE,EAAE;cACfC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;YACjC,CAAC,MAAM;cACLD,OAAO,CAACE,KAAK,CAAC,2BAA2B,CAAC;YAC5C;UACF,CAAC,CAAC,OAAOA,KAAK,EAAE;YACdF,OAAO,CAACE,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;UAClD;QACF,CAAC,CAAC;MACJ;IACF,CAAC;IAED,MAAMC,UAAU,GAAGC,WAAW,CAACvB,cAAc,EAAE,KAAK,CAAC,CAAC,CAAC;;IAEvD,OAAO,MAAMwB,aAAa,CAACF,UAAU,CAAC;EACxC,CAAC,EAAE,CAACxB,MAAM,CAAC,CAAC;EAEZ,OAAO,IAAI;AACb,CAAC;AAACC,EAAA,CArCIF,eAAe;AAAA4B,EAAA,GAAf5B,eAAe;AAuCrB,eAAeA,eAAe;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}